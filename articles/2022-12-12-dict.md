---
title: "[Swift] è¾æ›¸å‹ã‚ã‚Œã“ã‚Œ"
emoji: "ğŸŒ¾"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: true
---

# ã¯ã˜ã‚ã«

åŸºæœ¬çš„ã«ã¯è¾æ›¸å‹ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ `key` ã§ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒ `nil` ã®å¯èƒ½æ€§ã‚’å­•ã‚“ã ã‚Šã€`value` ã‚„ `key` ã«å¯¾ã—ã¦å¤‰æ•°åã‚’è¨­å®šã§ããªã„ã®ã§ã€è¾æ›¸å‹ã§å®£è¨€ã™ã‚‹ã‚ˆã‚Šã‚‚ struct å‹ã§å®£è¨€ã™ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã ã¨æ€ã„ã¾ã™ã€‚

ã¾ãŸã€API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹ã®éƒ½åˆä¸Šãªã©ã§ã€è¾æ›¸å‹ã‚’æ‰±ã†ã“ã¨ã‚‚ `Codable` ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã»ã¨ã‚“ã©å¿…è¦ãªããªã‚Šã¾ã—ãŸã€‚

ãã‚Œã§ã‚‚ãŸã¾ã«è¾æ›¸å‹ã‚’ä½¿ã†ã¨ã“ã¨ãŒã‚ã‚‹ã®ã§ã€è¾æ›¸å‹ã§ã‚ˆãä½¿ãˆã‚‹æŠ€ã‚’æ›¸ãæ®‹ãã†ã¨æ€ã„ã¾ã™ã€‚

# ä¼ãˆãŸã„ã“ã¨

- `key` ã‚‚ `value` ã‚‚ä¸¡æ–¹ã®å€¤ã‚’ä½¿ã£ã¦ã„ããŸã„ -> æ—©ã‚ã« Struct ã«å¤‰æ›ã™ã‚‹
- è¾æ›¸å‹ã‚’ç¶­æŒã—ãªãã¦ã‚‚è‰¯ã„ãªã‚‰ -> ãã®æ®µéšã§è¾æ›¸å‹ã‚’å¤‰æ›´ -> `.values` or `.keys`
- è¾æ›¸å‹ã‚’ç¶­æŒã—ãŸã¾ã¾å‡¦ç†ã™ã‚‹ãªã‚‰ -> è¾æ›¸å‹ã‚’ç¶­æŒã™ã‚‹å‡¦ç† -> `.mapValues()`
- `.first(where: æ¡ä»¶)` ã¯è¾æ›¸å‹ã®ã¾ã¾ä½¿ãˆã‚‹

# `key` ã‚‚ `value` ã‚‚ä¸¡æ–¹ã®å€¤ã‚’ä½¿ã£ã¦ã„ããŸã„ -> æ—©ã‚ã« Struct ã«å¤‰æ›ã™ã‚‹

è¾æ›¸å‹ã®ã¾ã¾ã§è‰¯ã„ã§ã™ãŒã€struct ã«ã—ã¦å¤‰æ•°åã‚’æŒãŸã›ã‚‹ã“ã¨ã§ã€`key` ã¨ `value` ã«æ„å‘³ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```swift
let dict: [Int: String] = [1: "one", 2: "two" , 3: "three"]

struct Hoge {
    let id: Int
    let name: String
}

let hoges: [Hoge] = dict.map { key, value in Hoge(id: key, name: value) }
print(hoges) // [Hoge(id: 1, name: "one"), Hoge(id: 3, name: "three"), Hoge(id: 2, name: "two")]
```

â€» ãŸã ã—ã€é †ç•ªã¯æ‹…ä¿ã•ã‚Œãªã„ã®ã§æ³¨æ„ãŒå¿…è¦

# `key` ã ã‘ã‚„ `value` ã ã‘ã®é…åˆ—ã‚’ç”Ÿæˆã™ã‚‹ -> `.values` or `.keys`

```swift
let dict: [Int: String] = [1: "one", 2: "two" , 3: "three"]

print(dict.keys) // [1, 3, 2]
print(dict.values) // ["one", "three", "two"]

// ä»¥ä¸‹ã‚‚åŒã˜çµæœã§ã‚ã‚‹
print(dict.map(\.key)) // [1, 3, 2]
print(dict.map(\.value)) // ["one", "three", "two"]
```

â€» ãŸã ã—ã€é †ç•ªã¯æ‹…ä¿ã•ã‚Œãªã„ã®ã§æ³¨æ„ãŒå¿…è¦

# `.mapValues()` ã§è¾æ›¸å‹ã‚’ç¶­æŒã—ãŸã¾ã¾ `value` ã ã‘å¤‰æ›å‡¦ç†ã‚’ã™ã‚‹

```swift
let dict: [Int: String] = [1: "one", 2: "two" , 3: "three"]

print(dict.mapValues { $0.count }) // [1: 3, 2: 3, 3: 5]
```

`.values` or `.keys` ã‚„ `.mapValues()` ã‚’ä½¿ã†ã“ã¨ã§é€šå¸¸ã®é…åˆ—ã£ã½ãæ‰±ã†ã“ã¨ãŒå¯èƒ½ã§ã™ãŒã€ä»¥ä¸‹ã®ã“ã¨ã‚’å¿µé ­ã«ç½®ãã¨ã‚ˆã•ãã†ã§ã™ã€‚

- è¾æ›¸å‹ã‚’ç¶­æŒã—ãŸã¾ã¾å‡¦ç†ã™ã‚‹ãªã‚‰ -> è¾æ›¸å‹ã‚’ç¶­æŒã™ã‚‹å‡¦ç† -> `.mapValues()`
- è¾æ›¸å‹ã‚’ç¶­æŒã—ãªãã¦ã‚‚è‰¯ã„ãªã‚‰ -> ãã®æ®µéšã§è¾æ›¸å‹ã‚’å¤‰æ›´ã™ã‚‹ã¨ã‚ˆã•ãã† -> `.values` or `.keys`

# `.first(where: æ¡ä»¶)` ã¯è¾æ›¸å‹ã®ã¾ã¾ä½¿ãˆã‚‹

```swift
let dict: [Int: String] = [1: "one", 2: "two" , 3: "three"]

// ä»¥ä¸‹ã¯ã™ã¹ã¦åŒã˜çµæœã§ã‚ã‚‹
print(dict[2]!) // two
print(dict.first(where: { $0.key == 2 })!.value) // two
print(dict.first(where: { $0.value == "two" })!.value) // two

// ã‚‚ã¡ã‚ã‚“å…ˆã«valueã«å¤‰æ›ã—ã¦ã‚‚ã‚ˆã—
print(dict.map(\.value).first(where: { $0 == "two" })!) // two
```

å¤§ä½“ã€é…åˆ—ã¨åŒã˜ã‚ˆã†ãªå‡¦ç†ã‚’ã™ã‚‹ã“ã¨ãŒè¾æ›¸å‹ã§ã‚‚å¯èƒ½ã¿ãŸã„ã§ã™ã€‚

ä»¥ä¸Šã§ã™ã€‚