---
title: "[Swift] [Combine] å®‰æ˜“ã« share() ã—ãŸ Publisher ã‚’ subscribe ã™ã‚‹ã¨å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ä»¶"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: true
---

# ä¼ãˆãŸã„ã“ã¨

- 1ã¤ã® Publisher ã‚’  `share()` ã›ãšã«å…±æœ‰ã—ãŸå ´åˆã¯ subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã®ã§ã€`share()` ã‚’ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ãã‚Œã‚’é˜²ãã“ã¨ãŒã§ãã‚‹
- `share()` ã—ãŸ Publisher ã«ã¤ã„ã¦ã€subscribe ã™ã‚‹å‰ã«å‡ºåŠ›ã•ã‚ŒãŸå€¤ã¯ã€å†åº¦å‡ºåŠ›ã•ã‚Œãªã„
- ãã®ãŸã‚ã€å€¤ã®å‡ºåŠ›ã¨ subscribe ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†
- ãã®å¯¾å¿œç­–ã¨ã—ã¦ä»¥ä¸‹ã®æ–¹æ³•ãŒè€ƒãˆã‚‰ã‚Œã‚‹
  - æ¡ˆ1: `share()` ã®ç›´å‰ã« `delay()` ã™ã‚‹
    - ãŸã ã—ã€ã©ã®ãã‚‰ã„ã®ç§’æ•° `delay()` ã™ã‚Œã°ã‚ˆã„ã‹ã¯ã€å‡¦ç†ã«ã‚ˆã£ã¦ã¾ã¡ã¾ã¡ãªã®ã§ã€ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰çš„ã«ä½¿ã†
  - æ¡ˆ2: `share()` ã§ã¯ãªã `multicast()` ï¼† `connect()` ã‚’ä½¿ã†
    - `connect()` ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ã®ã§æ³¨æ„ãŒå¿…è¦
  - æ¡ˆ3: subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã“ã¨ã‚’å—ã‘å…¥ã‚Œã¦ã€`share()` ã‚„  `multicast()` ï¼† `connect()` ã‚’ä½¿ç”¨ã›ãšã«è«¦ã‚ã‚‹

# share() ã®æŒ™å‹•ã®æŒ¯ã‚Šè¿”ã‚Š

1ã¤ã® Publisher ã‚’  `share()` ã›ãšã«å…±æœ‰ã—ãŸå ´åˆã¯ subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã®ã§ã€`share()` ã‚’ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ãã‚Œã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

## share() ã—ãªã„å ´åˆ

é©å½“ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§å®Ÿé¨“ã—ã¦ã¿ã¾ã™ã€‚

```swift
let numsPublisher: PassthroughSubject<[Int], Never> = .init()

let numPublisher = numsPublisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)

numsPublisher.send([1,2,3,4])


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// triple: 3
// triple: 6
// triple: 9
// triple: 12
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// double: 4
// double: 6
// double: 8
â†‘
share() ãŒãªã„ã®ã§ã€numPublisherã‚’ ï¼’ å›é€šéã—ã¦ã—ã¾ã†
```

## share() ã‚’è¿½åŠ ã—ãŸå ´åˆ

```swift
let numsPublisher: PassthroughSubject<[Int], Never> = .init()

let numPublisher = numsPublisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    .share() // è¿½åŠ 

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)

numsPublisher.send([1,2,3,4])


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// triple: 3
// double: 4
// triple: 6
// double: 6
// triple: 9
// double: 8
// triple: 12
â†‘
share() ã‚’è¨­å®šã—ãŸã“ã¨ã«ã‚ˆã£ã¦ numPublisher ã¯ 1 å›ã®ã¿é€šé
```

ã“ã®ã‚ˆã†ã«ã€`share()` ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã®ã—ã¾ã†ã®ã‚’ã€å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

# share() ã«ã‚ˆã£ã¦å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ã‚±ãƒ¼ã‚¹

ã“ã®è¨˜äº‹ã®æœ¬é¡Œã§ã™ã€‚

å®Ÿã¯ `share()` ã®æ³¨æ„ç‚¹ã¨ã—ã¦ã€`share()` ã—ãŸ Publisher ã«ã¤ã„ã¦ã€subscribe ã™ã‚‹å‰ã«å‡ºåŠ›ã•ã‚ŒãŸå€¤ã¯ã€å†åº¦å‡ºåŠ›ã•ã‚Œãªã„ã¨ã„ã†è½ã¨ã—ç©´ãŒã‚ã‚Šã¾ã™ã€‚

å…ˆã»ã©ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ã€subscribeã€ â†’ ã€Publisherã‹ã‚‰ã®å‡ºåŠ›`ã€ã¨ã„ã†å‡¦ç†é †ã«ãªã£ã¦ã„ãŸã®ã§ã€ãã®ã‚ˆã†ãªã“ã¨ã‚’æ°—ã«ã™ã‚‹å¿…è¦ã¯ãªã‹ã£ãŸã®ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ãã®è½ã¨ã—ç©´ã«ãƒ¢ãƒ­ã«ã¯ã¾ã£ã¦ã—ã¾ã†ã‚±ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚

## share() ã—ãªã„å ´åˆ

ã¾ãšã¯ã€å…ˆã»ã©ã¨åŒæ§˜ã« `share()` ãŒãªã„ã¨ãã®æŒ™å‹•ã‚’ç¢ºèªã—ã¾ã™ã€‚

å…ˆã»ã©ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã®é•ã„ã¯ã€ã€subscribeã€ â†’ ã€Publisherã‹ã‚‰ã®å€¤ã®å‡ºåŠ›ã€ã¨ã„ã†å‡¦ç†é †ã§ã¯ãªãã€ã€Publisherã‹ã‚‰ã®å€¤ã®å‡ºåŠ›ã€ â†’ ã€subscribeã€ ã¨ã„ã†å‡¦ç†é †ã«ãªã‚Šã¾ã™ã€‚

```swift
// å€¤ã‚’å¾Œã‹ã‚‰ send() ã§å‡ºåŠ›ã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚å‡ºåŠ›ã™ã‚‹ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    // .share() â† ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// triple: 3
// triple: 6
// triple: 9
// triple: 12
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// double: 4
// double: 6
// double: 8
â†‘
share() ãŒãªã„ã®ã§ã€numPublisherã‚’ ï¼’ å›é€šéã—ã¦ã—ã¾ã†
```

## share() ã‚’è¿½åŠ ã—ãŸå ´åˆ

```swift
// å€¤ã‚’å¾Œã‹ã‚‰ send() ã§å‡ºåŠ›ã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚å‡ºåŠ›ã™ã‚‹ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    .share() // è¿½åŠ 

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)

//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// double: 4
// double: 6
// double: 8
â†‘
share() ã‚’è¨­å®šã—ãŸã“ã¨ã«ã‚ˆã£ã¦ numPublisher ã¯ 1 å›ã®ã¿é€šéã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãŒã€
triple ã®å‡ºåŠ›ã¾ã§æ¶ˆãˆã¦ã—ã¾ã†ğŸ˜­
```

ã“ã®ã‚ˆã†ã« `share()` ã—ãŸ Publisher ã«ã¤ã„ã¦ã€subscribe ã™ã‚‹å‰ã«å‡ºåŠ›ã•ã‚ŒãŸå€¤ã¯ã€å†åº¦å‡ºåŠ›ã•ã‚Œãšã€å€¤ã®å‡ºåŠ›ã¨ subscribe ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

# å›é¿ç­–

## æ¡ˆ1: `share()` ã®ç›´å‰ã« `delay()` ã™ã‚‹

ã‚·ãƒ³ãƒ—ãƒ«ãªå¯¾å¿œç­–ãªã®ã§ã™ãŒã€`share()` ã®ç›´å‰ã« `delay()` ã‚’å…¥ã‚Œã‚‹ã ã‘ã§ã™ã€‚

```swift
// å€¤ã‚’å¾Œã‹ã‚‰ send() ã§å‡ºåŠ›ã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚å‡ºåŠ›ã™ã‚‹ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    .delay(for: .seconds(1), scheduler: RunLoop.current) // â† è¿½åŠ 
    .share()

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)

//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// triple: 3
// double: 4
// triple: 6
// double: 6
// triple: 9
// double: 8
// triple: 12
â†‘
numPublisher ã¯ 1 å›ã®ã¿é€šé ï¼† triple ã®å‡ºåŠ›ã®å¾©æ´»ğŸŒŸ
```

ãŸã ã€ã“ã‚Œã«ã¯å•é¡Œç‚¹ã‚‚ã‚ã‚Šã€ã©ã®ãã‚‰ã„ã®ç§’æ•° `delay()` ã™ã‚Œã°ã‚ˆã„ã‹ã¯ã€å‡¦ç†ã«ã‚ˆã£ã¦ã¾ã¡ã¾ã¡ãªã®ã§ã€ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰çš„ã«ä½¿ã†ã®ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

## æ¡ˆ2: `share()` ã§ã¯ãªã `multicast()` ï¼† `connect()` ã‚’ä½¿ã†

Combine ã«ã¯ [`multicast()`](https://developer.apple.com/documentation/combine/publisher/multicast(subject:)) ã¨ã„ã†ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

`multicast()` ã•ã‚ŒãŸ Publisher ã¯ `connect()` ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§åˆã‚ã¦å‡ºåŠ›ã‚’é–‹å§‹ã—ã¾ã™ã€‚

```swift
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    .multicast(subject: PassthroughSubject<Int, Never>()) // è¿½åŠ 

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)

// connect()ã®å®Ÿæ–½
numPublisher
    .connect()
    .store(in: &cancellables)


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// triple: 3
// double: 4
// triple: 6
// double: 6
// triple: 9
// double: 8
// triple: 12
â†‘
numPublisher ã¯ 1 å›ã®ã¿é€šéğŸŒŸ
```

### `multicast()` ï¼† `connect()`  ã®æ³¨æ„ç‚¹

`connect()` ã‚ˆã‚Šå¾Œã« subscribe ã—ãŸå ´åˆã¯å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã„ã¾ã™ã€‚

```swift
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }
    .multicast(subject: PassthroughSubject<Int, Never>()) // è¿½åŠ 

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

// connect()ã®å®Ÿæ–½
numPublisher
    .connect()
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// double: 2
// double: 4
// double: 6
// double: 8
â†‘
connect() ã‚ˆã‚Šå¾Œã« subscribe ã—ãŸ triple ã¯å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ğŸ˜­
```

`share()` ã¨åŒæ§˜ã« `multicast()` ï¼† `connect()` ã‚‚å®Ÿè¡Œã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã¯ã€ååˆ†ãªæ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

## æ¡ˆ3: subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã“ã¨ã‚’å—ã‘å…¥ã‚Œã‚‹

ä¸Šè¨˜ã§èª¬æ˜ã—ãŸã‚ˆã†ã« `share()` ã‚‚ `multicast()` ï¼† `connect()` ã‚‚æ³¨æ„ã—ãªã„ç”¨ã„ãªã„ã¨ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã‚’è¨€ã£ã¦ã—ã¾ã£ãŸã‚‰å…ƒã‚‚å­ã‚‚ãªã„ã®ã§ã™ãŒã€å…±æœ‰ã™ã‚‹ Publisher ã®å‡¦ç†ãŒå¤§ã—ã¦é‡ããªãã€å‡¦ç†ãŒé‡è¤‡ã—ã¦ã‚‚å•é¡Œãªã„å ´åˆã¯ã€subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã“ã¨ã‚’å—ã‘å…¥ã‚Œã¦ã€è«¦ã‚ã‚‹ã¨ã„ã†ã®ã‚‚ä¸€ã¤ã®æ‰‹ã ã¨æ€ã„ã¾ã™ã€‚

ã€å‡ºåŠ›ã‚’é€ƒã™ã‚ˆã‚Šã¯å‡¦ç†ãŒé‡è¤‡ã—ãŸã»ã†ãŒãƒã‚·ã€ã¨ã„ã†è€ƒãˆæ–¹ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚æ°—ã«ã—ãªã‘ã‚Œã°ã€å‡¦ç†ãŒé‡è¤‡ã—ã¦ã‚‚ã•ã»ã©å•é¡Œãªã„ã§ã™ã‚ˆã­ã€‚

```swift
// å€¤ã‚’å¾Œã‹ã‚‰ send() ã§å‡ºåŠ›ã™ã‚‹ã®ã§ã¯ãªãã€ã‚ã‚‰ã‹ã˜ã‚å‡ºåŠ›ã™ã‚‹ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ãŠã
let numPublisher = [[1,2,3,4]].publisher
    .flatMap { nums -> AnyPublisher<Int, Never> in
        print("numPublisherã‚’é€šéã—ã¾ã—ãŸ")
        return nums.publisher.eraseToAnyPublisher()
    }

numPublisher
    .map { $0 * 2 }
    .sink { print("double: \($0)") }
    .store(in: &cancellables)

numPublisher
    .map { $0 * 3 }
    .sink { print("triple: \($0)") }
    .store(in: &cancellables)


//ï¼ˆå‡ºåŠ›ï¼‰
// numPublisherã‚’é€šéã—ã¾ã—ãŸ
// triple: 3
// triple: 6
// triple: 9
// triple: 12
// numPublisherã‚’é€šéã—ã¾ã—ãŸ â† é‡è¤‡ã—ã¦ã€å‡¦ç†ãŒèµ°ã‚‹ãŒã•ã»ã©å•é¡Œã¯ãªã„
// double: 2
// double: 4
// double: 6
// double: 8
â†‘
share() ãŒãªã„ã®ã§ã€numPublisherã‚’ ï¼’ å›é€šéã—ã¦ã—ã¾ã†ãŒã—ã¾ã†ãŒã€ãã“ã¾ã§å•é¡Œã§ã¯ãªã„ã®ã§è«¦ã‚ã‚‹ğŸ˜
```

# çµè«–

- 1ã¤ã® Publisher ã‚’  `share()` ã›ãšã«å…±æœ‰ã—ãŸå ´åˆã¯ subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã®ã§ã€`share()` ã‚’ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€ãã‚Œã‚’é˜²ãã“ã¨ãŒã§ãã‚‹
- `share()` ã—ãŸ Publisher ã«ã¤ã„ã¦ã€subscribe ã™ã‚‹å‰ã«å‡ºåŠ›ã•ã‚ŒãŸå€¤ã¯ã€å†åº¦å‡ºåŠ›ã•ã‚Œãªã„
- ãã®ãŸã‚ã€å€¤ã®å‡ºåŠ›ã¨ subscribe ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†
- ãã®å¯¾å¿œç­–ã¨ã—ã¦ä»¥ä¸‹ã®æ–¹æ³•ãŒè€ƒãˆã‚‰ã‚Œã‚‹
  - æ¡ˆ1: `share()` ã®ç›´å‰ã« `delay()` ã™ã‚‹
    - ãŸã ã—ã€ã©ã®ãã‚‰ã„ã®ç§’æ•° `delay()` ã™ã‚Œã°ã‚ˆã„ã‹ã¯ã€å‡¦ç†ã«ã‚ˆã£ã¦ã¾ã¡ã¾ã¡ãªã®ã§ã€ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰çš„ã«ä½¿ã†
  - æ¡ˆ2: `share()` ã§ã¯ãªã `multicast()` ï¼† `connect()` ã‚’ä½¿ã†
    - `connect()` ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ã‚ˆã£ã¦ã¯ã€å‡ºåŠ›ã‚’é€ƒã—ã¦ã—ã¾ã†ã®ã§æ³¨æ„ãŒå¿…è¦
  - æ¡ˆ3: subscribe ã—ãŸæ•°ã ã‘é‡è¤‡ã—ã¦å‡¦ç†ãŒèµ°ã£ã¦ã—ã¾ã†ã“ã¨ã‚’å—ã‘å…¥ã‚Œã¦ã€`share()` ã‚„  `multicast()` ï¼† `connect()` ã‚’ä½¿ç”¨ã›ãšã«è«¦ã‚ã‚‹

ä»¥ä¸Šã«ãªã‚Šã¾ã™ã€‚

# å‚è€ƒ

ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚

- [ã€Swiftã€‘Combineã§ä¸€ã¤ã®Publisherã®å‡ºåŠ›çµæœã‚’å…±æœ‰ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ã‚¯ãƒ©ã‚¹ã®é•ã„(share, multicast, Future)](https://qiita.com/shiz/items/f089c93bdebfaef2196f)