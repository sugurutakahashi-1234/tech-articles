---
title: "ã€Swift, Combineã€‘throttle() ã§ä¸€å®šæœŸé–“å‡ºåŠ›ã‚’ç„¡è¦–ã™ã‚‹"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift", "Combine"]
published: true
---

# `.prefix(untilOutputFrom: )`

Combine ã«ã¯ [`.prefix(untilOutputFrom: )`](https://developer.apple.com/documentation/combine/just/prefix(untiloutputfrom:)) ã¨ã„ã†ä»–ã® Publisher ã®å‡ºåŠ›ã‚’æ¡ä»¶ã«ã€ãã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å‡ºåŠ›ã‚’æ­¢ã‚ã¦å®Œäº†ã•ã›ã‚‹ã¨ã„ã†ã€ã‹ãªã‚Šãƒãƒ‹ã‚¢ãƒƒã‚¯ãªé–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ãŸã®ã§ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

## ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

æŒ™å‹•ã¯ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã„ãŸã ãã®ãŒæ—©ã„ã¨æ€ã„ã¾ã™ã€‚

ã¾ãšã¯ä»¥ä¸‹ã®ã‚ˆã†ãªä¸€å®šé–“éš”ã§å‡ºåŠ›ã—ã¦ãã‚Œã‚‹ Publisher ã‚’ç”¨æ„ã—ã¾ã™ã€‚

```swift
import Combine
import Foundation

var cancellables = Set<AnyCancellable>()
let timerPublisher = Timer.publish(every: 2, on: .main, in: .default)
    .autoconnect()
    .share()
```

```swift
timerPublisher
    .throttle(for: .seconds(3), scheduler: DispatchQueue.main, latest: true)
    .sink {
        print("output: \($0)")
    }
    .store(in: &cancellables)

// output: 2022-02-05 11:44:45 +0000
// output: 2022-02-05 11:44:47 +0000
// output: 2022-02-05 11:44:51 +0000
// output: 2022-02-05 11:44:53 +0000
// output: 2022-02-05 11:44:57 +0000
```