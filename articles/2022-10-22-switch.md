---
title: "[Swift] enum ã® switch-case æ–‡ã§ where ã‚’ä½¿ã†ã¨ Xcode ã®è£œå®Œæ©Ÿèƒ½ã®æ©æµã‚’å¾—ã‚‰ã‚Œãªã„ä»¶"
emoji: "ğŸ•Š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: true
---

ä»¥ä¸‹ã®ã‚ˆã†ãª enum ã‚’å®šç¾©ã—ã¦ã€swtich-caseæ–‡ã‚’è¨˜è¿°ã—ã¦ã¿ã¾ã™ã€‚

```swift
enum Menu: String {
    case rice
    case salad
}

var menu: Menu = .rice

switch menu {
case .rice:
    print("menu: \(menu.rawValue)") // menu: rice
    
case .salad:
    print("menu: \(menu.rawValue)")
}
```

ã“ã“ã§ `rice` ã®å ´åˆã«ã€ã•ã‚‰ã« `where` ã«ã‚ˆã£ã¦å¤–ã‹ã‚‰æ¡ä»¶ã‚’çµã‚Šã¾ã™ã€‚

```swift
var menu: Menu = .rice
var isChild: Bool = true

switch menu { // âŒ Switch must be exhaustive
case .rice where isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")

case .rice where !isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case .salad:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
}
```

â†‘ ä¸€è¦‹ã€ä¸Šè¨˜ã®è¨˜è¿°ã§å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ç¶²ç¾…ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€ã“ã‚Œã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

Swift ã«è‡ªå‹•è£œå®Œã—ã¦ã‚‚ã‚‰ã†ã¨ã€ãªã‚“ã¨ä»¥ä¸‹ã®ã‚ˆã†ã« `case .rice:` ãŒè¶³ã‚Šãªã„ã¨è£œå®Œã•ã‚Œã¾ã™ã€‚

```swift
switch menu {
case .rice where isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")

case .rice where !isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case .salad:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case .rice: // â† è£œå®Œã•ã‚Œã‚‹
    <#code#>
}
```

ã©ã†ã‚„ã‚‰ã€`where` ã®æ¡ä»¶ã¯ã€switch-case æ–‡ã®ç®¡è½„å¤–ã¿ãŸã„ã§ã™ã€‚

ã“ã“ã§ã€`where` ã‚’ä½¿ã„ãªãŒã‚‰ `default:` ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã¨æ¡ä»¶æ¼ã‚Œã«æ°—ã¥ã‘ãªã„ã®ã§ã€ã„ã£ãã®ã“ã¨ã€`default` ã®å ´åˆã¯ `fatalError` ãªã©ã•ã›ã¦ã€æ°—ä»˜ã‘ã‚‹ã‚ˆã†ãªä»•çµ„ã¿ã‚’ä½œã£ãŸæ–¹ãŒã„ã„ã¨æ€ã„ã¾ã™ã€‚

```swift
switch menu {
case .rice where isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")

case .rice where !isChild:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case .salad:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
default:
    fatalError("unexpected") // fatalError ãªã©ã—ã¦ãŠãã¨ã‚ˆã•ãã†
}
```

ã‚‚ã—ã€switch-case æ–‡ã® Xcode ã®è£œå®Œæ©Ÿèƒ½ã®æ©æµã‚’å¾—ãŸã„ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¿ãƒ—ãƒ«ã‚’ä½¿ã£ã¦æ›¸ãã®ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

```swift
switch (menu, isChild) {
case (.rice, true):
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case (.rice, false):
    print("menu: \(menu.rawValue), isChild: \(isChild)")
    
case (.salad, _):
    print("menu: \(menu.rawValue), isChild: \(isChild)")
}
```

ãã‚‚ãã‚‚ã€Xcode ã®è£œå®Œæ©Ÿèƒ½ã®æ©æµã‚’å¾—ã‚‰ã‚Œãªãã¦ã‚‚è‰¯ã„ã®ã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚‚æ›¸ã‘ã¾ã™ã€‚

```swift
switch menu  {
case .rice:
    if isChild {
        print("menu: \(menu.rawValue), isChild: \(isChild)")
    } else {
        print("menu: \(menu.rawValue), isChild: \(isChild)")
    }

case .salad:
    print("menu: \(menu.rawValue), isChild: \(isChild)")
}
```

ãŸã ã€`where` ã‚’ã¤ã‘ã‚‹ã“ã¨

case-by-case ã§ã™ã­ã€‚

