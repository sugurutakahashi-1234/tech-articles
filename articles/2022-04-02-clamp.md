---
title: "[Swift] Swift ã§ã‚‚ clamp() ã—ãŸã„ï¼"
emoji: "ğŸ•Š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: true
---

# Swift ã§ clamp() 

`c++` ã«ã¯ `min <= x <= max` ã®ç¯„å›²ã§ `x` ã®å€¤ã‚’è¿”å´ã—ã¦ãã‚‹ [`clamp()`](https://cpprefjp.github.io/reference/algorithm/clamp.html) ã¨ã„ã†é–¢æ•°ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã® Swift ç‰ˆã®ç´¹ä»‹ã§ã™ã€‚

```swift
extension Comparable {
    func clamp(minValue: Self, maxValue: Self) -> Self {
        min(max(minValue, self), maxValue)
    }
    
    func clamp(to range: ClosedRange<Self>) -> Self {
        self.clamp(minValue: range.lowerBound, maxValue: range.upperBound)
    }
}
```

æ­£ç›´ã€ä¼¼ãŸã‚ˆã†ãªè¨˜äº‹ã¯ã„ãã¤ã‚‚ã‚ã£ãŸã®ã§ã™ãŒã€`Comparable` ã®æ‹¡å¼µãªã‚‰ `ClosedRange` ã‚’ç”¨ã„ã¦ã€è¡¨ç¾ã§ãã‚‹ã¨ã‚ˆã‚Šç¶ºéº—ã‹ãªã¨æ€ã„ã€æŠ•ç¨¿ã—ã¾ã—ãŸã€‚

# å®Ÿéš›ã«ä½¿ã£ã¦ã¿ãŸ

ä½¿ã„æ–¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```swift
let minValue: Int = 0
let maxValue: Int = 2
let range: ClosedRange<Int> = minValue...maxValue

print((-1).clamp(minValue: minValue, maxValue: maxValue)) // 0
print(0.clamp(minValue: minValue, maxValue: maxValue)) // 0
print(1.clamp(minValue: minValue, maxValue: maxValue)) // 1
print(2.clamp(minValue: minValue, maxValue: maxValue)) // 2
print(3.clamp(minValue: minValue, maxValue: maxValue)) // 2

print((-1).clamp(to: range)) // 0
print(0.clamp(to: range)) // 0
print(1.clamp(to: range)) // 1
print(2.clamp(to: range)) // 2
print(3.clamp(to: range)) // 2
```

ä»¥ä¸Šã«ãªã‚Šã¾ã™ã€‚