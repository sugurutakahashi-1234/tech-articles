---
title: "[Swift] [Combine] ObservableObject ã§ãªãã¦ã‚‚ @Published ã¯ä½¿ç”¨ã§ãã‚‹ä»¶"
emoji: "ğŸŒ¾"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Swift"]
published: true
---

# ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

**`@Published` ã¨ `ObservableObject` ã¯ã‚»ãƒƒãƒˆã§ä½¿ã†ã‚‚ã®ã ã¨èª¤è§£ã•ã‚ŒãŒã¡ã§ã™ãŒã€ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**

## ObservableObject ã‚’ã¤ã‘ãŸå ´åˆ

`ObservableObject` ã‚’ã¤ã‘ã‚‹ã¨ `@StateObject`ã€`@ObservedObject`ã€`@EnvironmentObject` ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸå¤‰æ•°ã§ä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

```swift
import SwiftUI

// ObservableObject ã‚’ã¤ã‘ã‚‹
class Hoge: ObservableObject {
    @Published private(set) var mogmoge: Int = 0
}

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚‰ãªã„ğŸŒŸ
class Piyo {
    @StateObject var hogeStateObject = Hoge()
    @ObservedObject var hogeObservedObject = Hoge()
    @EnvironmentObject var hogeEnvironmentObject: Hoge
}
```

ã¾ãŸ`@StateObject`ã€`@ObservedObject`ã€`@EnvironmentObject` ã‚’ä½¿ç”¨ã«ã¯ `import SwiftUI` ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚

**ã¤ã¾ã‚Šã€`ObservableObject` ã¯ `SwiftUI` ã§ã® View ã®å®Ÿè£…ã§ä½¿ã†ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚**
ï¼ˆé–“é•ã£ã¦ãŠã‚Šã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜ã®ã»ã©ãŠé¡˜ã„ã„ãŸã—ã¾ã™ğŸ™‡â€â™‚ï¸ï¼‰


## ObservableObject ã‚’å¤–ã—ãŸå ´åˆ

`ObservableObject` ã‚’å¤–ã™ã¨ `@StateObject`ã€`@ObservedObject`ã€`@EnvironmentObject` ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸå¤‰æ•°ã§ä½¿ç”¨ã§ããªããªã‚Šã¾ã™ã€‚

```swift
import SwiftUI

// ObservableObject ã‚’å¤–ã™
class Hoge {
    @Published private(set) var mogmoge: Int = 0
}

// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ğŸ˜­
class Piyo {
    @StateObject var hogeStateObject = Hoge() // Generic struct 'StateObject' requires that 'Hoge' conform to 'ObservableObject'
    @ObservedObject var hogeObservedObject = Hoge() // Generic struct 'ObservedObject' requires that 'Hoge' conform to 'ObservableObject'
    @EnvironmentObject var hogeEnvironmentObject: Hoge // Generic struct 'EnvironmentObject' requires that 'Hoge' conform to 'ObservableObject'
}
```

ã€`Generic struct 'StateObject' requires that 'Hoge' conform to 'ObservableObject'`ã€ã¨ã“ã‚“ãªæ„Ÿã˜ã§æ€’ã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

# çµè«–

- **`ObservableObject` ã‚’é©å¿œã—ãŸ class ã§ãªãã¦ã‚‚ `@Published` ã¯ä½¿ç”¨ã§ãã‚‹**
- `ObservableObject` ã¯ `@StateObject`ã€`@ObservedObject`ã€`@EnvironmentObject` ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸå¤‰æ•°ã‚’ä½¿ã„ãŸã„ã¨ãã«ä½¿ç”¨ã™ã‚‹ **= `SwiftUI` ã§ã® View ã®å®Ÿè£…ã§ä½¿ç”¨ã™ã‚‹**


ä»¥ä¸Šã«ãªã‚Šã¾ã™ã€‚


# ç¶šç·¨

ä»¥ä¸‹ã®è¨˜äº‹ã§ãã‚“ãª `ObservableObject` ã§ã¯ãªã„ `@Published` ã®ä½¿ã„æ‰€ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ãŠã‚Šã¾ã™ã€‚

- [[Swift] [Combine] ObservableObject ã§ã¯ãªã„ @Published ã®ä½¿ã„æ‰€](https://zenn.dev/ikuraikura/articles/2022-02-24-pub2)